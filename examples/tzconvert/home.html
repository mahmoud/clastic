<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Time zone convertor</title>
  <link rel="stylesheet" href="/static/custom.css">
  <script src="/static/show_time.js"></script>
</head>
<body>
  <h1>Time zone convertor</h1>
  <form action="/show" method="POST" onsubmit="showResult(event, this)">
    <input type="datetime-local" name="dt" value="{default_time}" required>

    <div class="timezones">
      <div class="timezone">
        <label for="src">From:</label>
        <select name="src" id="src">
          {#zones}
          {@eq key=location value="{default_src}"}
          <option value="{zone}" selected>{location}</option>
          {:else}
          <option value="{zone}">{location}</option>
          {/eq}
          {/zones}
        </select>
      </div>

      <div class="timezone">
        <label for="dst">To:</label>
        <select name="dst" id="dst">
          {#zones}
          {@eq key=location value="{default_dst}"}
          <option value="{zone}" selected>{location}</option>
          {:else}
          <option value="{zone}">{location}</option>
          {/eq}
          {/zones}
        </select>
      </div>
    </div>

    <button type="submit">Show</button>
  </form>

  <dialog id="result">
    <p>
      When it's <time id="src_dt" datetime="2020-01-01T18:00">Jan 1 2020</time>
      in <span id="src_location">UTC</span>,<br>
      it's <time id="dst_dt" datetime="2020-01-01T18:00">Jan 1 2020</time>
      in <span id="dst_location">UTC</span>.
    </p>
  </dialog>
</body>
</html>
